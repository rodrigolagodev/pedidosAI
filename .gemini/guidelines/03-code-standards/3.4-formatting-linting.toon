metadata:
  id: code-formatting
  version: 1.0
  lastUpdated: 2025-11-18
  references[0]:

content:
  title: Formatting and Linting
  purpose: Define code formatting and linting configuration for consistent code style.

  sections[2]:
    - id: code-format-prettier
      title: Prettier Configuration
      file: .prettierrc
      config: |
        {
          "semi": true,
          "singleQuote": true,
          "tabWidth": 2,
          "trailingComma": "es5",
          "printWidth": 100,
          "bracketSpacing": true,
          "arrowParens": "avoid"
        }
      pattern:
        description: Formatted code example
        code: |
          import { type FC } from 'react';

          interface Props {
            name: string;
            onSubmit: (value: string) => void;
          }

          export const Component: FC<Props> = ({ name, onSubmit }) => {
            return (
              <button onClick={() => onSubmit(name)}>
                {name}
              </button>
            );
          };

    - id: code-format-eslint
      title: ESLint Configuration
      file: eslint.config.mjs
      note: "Uses ESLint 9 flat config format"
      config: |
        import nextPlugin from '@next/eslint-plugin-next';
        import tsPlugin from '@typescript-eslint/eslint-plugin';
        import tsParser from '@typescript-eslint/parser';
        import prettierConfig from 'eslint-config-prettier';

        export default [
          {
            ignores: ['.next/**', 'node_modules/**'],
          },
          {
            files: ['**/*.{js,jsx,ts,tsx}'],
            plugins: {
              '@next/next': nextPlugin,
              '@typescript-eslint': tsPlugin,
            },
            languageOptions: {
              parser: tsParser,
            },
            rules: {
              ...nextPlugin.configs.recommended.rules,
              ...nextPlugin.configs['core-web-vitals'].rules,
              ...tsPlugin.configs.recommended.rules,
              '@typescript-eslint/no-explicit-any': 'error',
              '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
              'no-console': ['warn', { allow: ['warn', 'error'] }],
              'prefer-const': 'error',
            },
          },
          prettierConfig,
        ];
      keyRules[4]:
        - rule: no-explicit-any
          level: error
          rationale: Prevents type safety loss
        - rule: no-unused-vars
          level: error
          rationale: Clean code, allows _prefix for intentional ignores
        - rule: no-console
          level: warn
          rationale: Use proper logging, allow warn/error
        - rule: prefer-const
          level: error
          rationale: Immutability by default